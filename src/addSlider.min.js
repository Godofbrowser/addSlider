if(void 0===$add)var $add={version:{},auto:{disabled:!1}};$add.version.Slider="2.0.0",$add.SliderObj=function(t){function e(t,e){return Math.round(t*(1/e))/(1/e)}function i(t){if("function"==typeof t)return t;if("string"==typeof t){if(void 0!=window[t]&&"function"==typeof window[t])return window[t];try{return new Function(t)}catch(e){}}return function(){return t}}function n(t){return isNaN(parseFloat(t))&&t.length>0?n(t.substr(1)):parseFloat(t)}Obj.apply(this),this._settings={min:0,max:100,step:.1,value:50,fontsize:18,formatter:function(t){if((this._settings.step+"").indexOf(".")>-1)var e=(this._settings.step+"").split(".").pop().length;else var e=0;if(v=n(t),0>t){var s=!0;t=0-t}else var s=!1;if(isNaN(t))return"NaN";var i=Math.floor(t),a=t-i;for(a=Math.round(a*Math.pow(10,e)),a+="";a.length<e;)a="0"+a;return(s?"-":"")+i+(e>0?"."+a:"")},timeout:2e3,range:!1,id:!1,name:"","class":""},Object.defineProperty(this,"settings",{get:function(){return this.trigger("getsetting settings",this._settings),this._settings},set:function(e){this._settings=$.extend(this._settings,t),this.trigger("setsettings settings",this._settings),this.refresh()}}),Object.defineProperty(this,"value",{get:function(){return this.trigger("getvalue value",this._settings.value),this._settings.value},set:function(t){var s=this;if(this._settings.value=t,this._elements.find(".addui-slider-input").val(this._settings.value),this._settings.range){var r=e(parseFloat(this._settings.value.split(",")[0]),this._settings.step),l=e(parseFloat(this._settings.value.split(",")[1]),this._settings.step),u=this._settings.max-this._settings.min,o=r-this._settings.min,v=l-this._settings.min,h=o/u*100,g=v/u*100;this._elements.each(function(t,e){var n=$(e);n.find(".addui-slider-handle").eq(0).css("left",h+"%"),n.find(".addui-slider-handle").eq(1).css("left",g+"%"),n.find(".addui-slider-range").css("left",h+"%").css("width",g-h+"%"),n.find(".addui-slider-handle").eq(0).find(".addui-slider-value span").html(i(s._settings.formatter).call(s,r)),n.find(".addui-slider-handle").eq(1).find(".addui-slider-value span").html(i(s._settings.formatter).call(s,l))})}else{var a=n(this._settings.value)-this._settings.min,d=e(a,this._settings.step)/(this._settings.max-this._settings.min)*100;this._elements.find(".addui-slider-handle").css("left",d+"%"),this._elements.find(".addui-slider-range").css("width",d+"%"),this._elements.find(".addui-slider-value span").html(i(this._settings.formatter).call(this,this._settings.value))}}}),this.renderer=function(){function u(i){if(i.preventDefault(),"touchmove"==i.type)var n=i.originalEvent.changedTouches[0].pageX;else var n=i.pageX;var a=s.offset().left,d=n-a,r=d/s.width()*100,l=e(r/100*(t._settings.max-t._settings.min),t._settings.step)+t._settings.min;l=Math.min(t._settings.max,Math.max(t._settings.min,l)),t.value=e(l,t._settings.step)}function o(e){$(window).off("mousemove touchmove",u),l=setTimeout(function(){r.removeClass("addui-slider-handle-active")},t._settings.timeout)}function g(i){if(i.preventDefault(),"touchmove"==i.type)var a=i.originalEvent.changedTouches[0].pageX;else var a=i.pageX;var d=s.offset().left,r=a-d,l=t._settings.max-t._settings.min,u=r/s.width()*100,o=u/100*l,v=e(o+t._settings.min,t._settings.step);v=Math.min(t._settings.max,Math.max(t._settings.min,v));var h=e(n(t._settings.value.split(",")[1]),t._settings.step);v>h&&(h=v),t.value=v+","+h}function m(e){$(window).off("mousemove touchmove",g),h=setTimeout(function(){v.removeClass("addui-slider-handle-active")},t._settings.timeout)}function _(i){if(i.preventDefault(),"touchmove"==i.type)var a=i.originalEvent.changedTouches[0].pageX;else var a=i.pageX;var d=s.offset().left,r=a-d,l=t._settings.max-t._settings.min,u=r/s.width()*100,o=u/100*l,v=e(o+t._settings.min,t._settings.step);v=Math.min(t._settings.max,Math.max(t._settings.min,v));var h=e(n(t._settings.value.split(",")[0]),t._settings.step);h>v&&(h=v),t.value=h+","+v}function p(e){$(window).off("mousemove touchmove",_),c=setTimeout(function(){f.removeClass("addui-slider-handle-active")},t._settings.timeout)}var t=this,s=$("<div class='addui-slider "+(this._settings.range?"addui-slider-isrange":"")+" "+this._settings["class"]+"' "+(this._settings.id?"id='"+this._settings.id+"'":"")+"></div>"),a=($("<input class='addui-slider-input' type='hidden' name='"+this._settings.name+"' value='"+this._settings.value+"' />").appendTo(s),$("<div class='addui-slider-track'></div>").appendTo(s));$("<div class='addui-slider-range'></div>").appendTo(a);if(this._settings.range){var v=$("<div class='addui-slider-handle'><div class='addui-slider-value'><span style='font-size: "+this._settings.fontsize+"px'></span></div></div>").appendTo(a),h=null;v.on("mousedown touchstart",function(t){clearTimeout(h),v.addClass("addui-slider-handle-active"),$(window).on("mousemove touchmove dragmove",g),$(window).one("mouseup touchend",m)});var f=$("<div class='addui-slider-handle'><div class='addui-slider-value'><span style='font-size: "+this._settings.fontsize+"px'></span></div></div>").appendTo(a),c=null;f.on("mousedown touchstart",function(t){clearTimeout(c),f.addClass("addui-slider-handle-active"),$(window).on("mousemove touchmove dragmove",_),$(window).one("mouseup touchend",p)})}else{var r=$("<div class='addui-slider-handle'><div class='addui-slider-value'><span style='font-size: "+this._settings.fontsize+"px'></span></div></div>").appendTo(a),l=null;r.on("mousedown touchstart",function(t){clearTimeout(l),r.addClass("addui-slider-handle-active"),$(window).on("mousemove touchmove dragmove",u),$(window).one("mouseup touchend",o)}),s.on("click",function(i){if(i.preventDefault(),"touchmove"==i.type)var n=i.originalEvent.changedTouches[0].pageX;else var n=i.pageX;var a=s.offset().left,d=n-a,u=d/s.width()*100,o=e(u/100*(t._settings.max-t._settings.min),t._settings.step)+t._settings.min;o=Math.min(t._settings.max,Math.max(t._settings.min,o)),clearTimeout(l),r.addClass("addui-slider-handle-active"),l=setTimeout(function(){r.removeClass("addui-slider-handle-active")},t._settings.timeout),t.value=o})}return s},this.init=function(t){var s=this;if(this.settings=t,this._settings.range){var i=this._settings.value+"";if(i.indexOf(",")>-1){var a=i.split(","),d=n(a[0]);d=Math.min(this._settings.max,Math.max(this._settings.min,d)),d=e(d,this._settings.step);var r=n(a[1]);r=Math.min(this._settings.max,Math.max(this._settings.min,r)),r=e(r,this._settings.step)}else{var i=e(Math.max(this._settings.min,Math.min(this._settings.max,n(this._settings.value))),this._settings.step),l=(this._settings.max-this._settings.min)/2;if(l>i)var d=i,r=this._settings.max-i;else var r=i,d=this._settings.min+i}r>d?this._settings.value=d+","+r:this._settings.value=r+","+d}else this._settings.value=Math.max(this._settings.min,Math.min(this._settings.max,n(this._settings.value)));this.on("render",function(){s.value=s._settings.value}),this.trigger("init",{settings:this._settings})},this.init.apply(this,arguments)},$add.Slider=function(t,e){var s=$(t).each(function(t,s){var i=$(s),n={};i.attr("name")&&(n.name=i.attr("name")),i.attr("class")&&(n["class"]=i.attr("class")),i.attr("id")&&(n.id=i.attr("id")),i.attr("value")&&(n.value=i.attr("value")),i.attr("min")&&(n.min=i.attr("min")),i.attr("max")&&(n.max=i.attr("max")),i.attr("step")&&(n.step=i.attr("step")),e=$.extend(n,i.data(),e);var a=new $add.SliderObj(e);return a.render(i,"replace"),a});return 0==s.length?null:1==s.length?s[0]:s},$.fn.addSlider=function(t){$add.Slider(this,t)},$add.auto.Slider=function(){$add.auto.disabled||$("[data-addui=slider]").addSlider()},$(function(){$add.auto.Slider()});