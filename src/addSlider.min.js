if(void 0===$add)var $add={version:{},auto:{disabled:!1}};$add.version.Slider="2.0.1",$add.SliderObj=function(t){function e(t,e){return Math.round(t*(1/e))/(1/e)}function s(t){if("function"==typeof t)return t;if("string"==typeof t){if(void 0!=window[t]&&"function"==typeof window[t])return window[t];try{return new Function(t)}catch(e){}}return function(){return t}}function a(t){return isNaN(parseFloat(t))&&t.length>0?a(t.substr(1)):parseFloat(t)}Obj.apply(this),this._settings={direction:"horizontal",min:0,max:100,step:.1,value:50,fontsize:18,formatter:function(t){if((this._settings.step+"").indexOf(".")>-1)var e=(this._settings.step+"").split(".").pop().length;else var e=0;if(v=a(t),0>t){var i=!0;t=0-t}else var i=!1;if(isNaN(t))return"NaN";var s=Math.floor(t),n=t-s;for(n=Math.round(n*Math.pow(10,e)),n+="";n.length<e;)n="0"+n;return(i?"-":"")+s+(e>0?"."+n:"")},timeout:2e3,range:!1,id:!1,name:"","class":""},Object.defineProperty(this,"settings",{get:function(){return this.trigger("getsetting settings",this._settings),this._settings},set:function(e){this._settings=$.extend(this._settings,t),this.trigger("setsettings settings",this._settings),this.refresh()}}),Object.defineProperty(this,"value",{get:function(){return this.trigger("getvalue value",this._settings.value),this._settings.value},set:function(t){var i=this;if(this._settings.value=t,this._elements.find(".addui-slider-input").val(this._settings.value),this._settings.range){var r=e(parseFloat(this._settings.value.split(",")[0]),this._settings.step),l=e(parseFloat(this._settings.value.split(",")[1]),this._settings.step),o=this._settings.max-this._settings.min,h=r-this._settings.min,v=l-this._settings.min,u=h/o*100,g=v/o*100;this._elements.each(function(t,e){var a=$(e);"vertical"==i._settings.direction?(a.find(".addui-slider-handle").eq(0).css("bottom",u+"%"),a.find(".addui-slider-handle").eq(1).css("bottom",g+"%"),a.find(".addui-slider-range").css("bottom",u+"%").css("height",g-u+"%")):(a.find(".addui-slider-handle").eq(0).css("left",u+"%"),a.find(".addui-slider-handle").eq(1).css("left",g+"%"),a.find(".addui-slider-range").css("left",u+"%").css("width",g-u+"%")),a.find(".addui-slider-handle").eq(0).find(".addui-slider-value span").html(s(i._settings.formatter).call(i,r)),a.find(".addui-slider-handle").eq(1).find(".addui-slider-value span").html(s(i._settings.formatter).call(i,l))})}else{var n=a(this._settings.value)-this._settings.min,d=e(n,this._settings.step)/(this._settings.max-this._settings.min)*100;"vertical"==this._settings.direction?(this._elements.find(".addui-slider-handle").css("bottom",d+"%"),this._elements.find(".addui-slider-range").css("height",d+"%"),this._elements.find(".addui-slider-range").css("bottom","0%")):(this._elements.find(".addui-slider-handle").css("left",d+"%"),this._elements.find(".addui-slider-range").css("width",d+"%")),this._elements.find(".addui-slider-value span").html(s(this._settings.formatter).call(this,this._settings.value))}}}),this.renderer=function(){function o(s){if(s.preventDefault(),"vertical"==t._settings.direction){if("touchmove"==s.type)var a=s.originalEvent.changedTouches[0].pageY;else var a=s.pageY;var n=i.offset().top+i.height(),d=n-a,r=d/i.height()*100}else{if("touchmove"==s.type)var l=s.originalEvent.changedTouches[0].pageX;else var l=s.pageX;var o=i.offset().left,h=l-o,r=h/i.width()*100}var v=e(r/100*(t._settings.max-t._settings.min),t._settings.step)+t._settings.min;v=Math.min(t._settings.max,Math.max(t._settings.min,v)),t.value=e(v,t._settings.step)}function h(e){$(window).off("mousemove touchmove",o),l=setTimeout(function(){r.removeClass("addui-slider-handle-active")},t._settings.timeout)}function g(s){if(s.preventDefault(),"vertical"==t._settings.direction){if("touchmove"==s.type)var n=s.originalEvent.changedTouches[0].pageY;else var n=s.pageY;var d=i.offset().top+i.height(),r=d-n,l=t._settings.max-t._settings.min,o=r/i.height()*100}else{if("touchmove"==s.type)var h=s.originalEvent.changedTouches[0].pageX;else var h=s.pageX;var v=i.offset().left,u=h-v,l=t._settings.max-t._settings.min,o=u/i.width()*100}var g=o/100*l,f=e(g+t._settings.min,t._settings.step);f=Math.min(t._settings.max,Math.max(t._settings.min,f));var m=e(a(t._settings.value.split(",")[1]),t._settings.step);f>m&&(m=f),t.value=f+","+m}function f(e){$(window).off("mousemove touchmove",g),u=setTimeout(function(){v.removeClass("addui-slider-handle-active")},t._settings.timeout)}function _(s){if(s.preventDefault(),"vertical"==t._settings.direction){if("touchmove"==s.type)var n=s.originalEvent.changedTouches[0].pageY;else var n=s.pageY;var d=i.offset().top+i.height(),r=d-n,l=r/i.height()*100}else{if("touchmove"==s.type)var o=s.originalEvent.changedTouches[0].pageX;else var o=s.pageX;var h=i.offset().left,v=o-h,l=v/i.width()*100}var u=t._settings.max-t._settings.min,g=l/100*u,f=e(g+t._settings.min,t._settings.step);f=Math.min(t._settings.max,Math.max(t._settings.min,f));var m=e(a(t._settings.value.split(",")[0]),t._settings.step);m>f&&(m=f),t.value=m+","+f}function p(e){$(window).off("mousemove touchmove",_),c=setTimeout(function(){m.removeClass("addui-slider-handle-active")},t._settings.timeout)}var t=this,i=$("<div class='addui-slider addui-slider-"+this._settings.direction+(this._settings.range?" addui-slider-isrange":"")+" "+this._settings["class"]+"' "+(this._settings.id?"id='"+this._settings.id+"'":"")+"></div>"),n=($("<input class='addui-slider-input' type='hidden' name='"+this._settings.name+"' value='"+this._settings.value+"' />").appendTo(i),$("<div class='addui-slider-track'></div>").appendTo(i));$("<div class='addui-slider-range'></div>").appendTo(n);if(this._settings.range){var v=$("<div class='addui-slider-handle addui-slider-handle-l'><div class='addui-slider-value'><span style='font-size: "+this._settings.fontsize+"px'></span></div></div>").appendTo(n),u=null;v.on("mousedown touchstart",function(t){clearTimeout(u),v.addClass("addui-slider-handle-active"),$(window).on("mousemove touchmove dragmove",g),$(window).one("mouseup touchend",f)});var m=$("<div class='addui-slider-handle addui-slider-handle-h'><div class='addui-slider-value'><span style='font-size: "+this._settings.fontsize+"px'></span></div></div>").appendTo(n),c=null;m.on("mousedown touchstart",function(t){clearTimeout(c),m.addClass("addui-slider-handle-active"),$(window).on("mousemove touchmove dragmove",_),$(window).one("mouseup touchend",p)})}else{var r=$("<div class='addui-slider-handle'><div class='addui-slider-value'><span style='font-size: "+this._settings.fontsize+"px'></span></div></div>").appendTo(n),l=null;r.on("mousedown touchstart",function(t){clearTimeout(l),r.addClass("addui-slider-handle-active"),$(window).on("mousemove touchmove dragmove",o),$(window).one("mouseup touchend",h)}),i.on("click",function(s){if(s.preventDefault(),"vertical"==t._settings.direction){if("touchmove"==s.type)var a=s.originalEvent.changedTouches[0].pageY;else var a=s.pageY;var n=i.offset().top+i.height(),d=n-a,o=d/i.height()*100}else{if("touchmove"==s.type)var h=s.originalEvent.changedTouches[0].pageX;else var h=s.pageX;var v=i.offset().left,u=h-v,o=u/i.width()*100}var g=e(o/100*(t._settings.max-t._settings.min),t._settings.step)+t._settings.min;g=Math.min(t._settings.max,Math.max(t._settings.min,g)),clearTimeout(l),r.addClass("addui-slider-handle-active"),l=setTimeout(function(){r.removeClass("addui-slider-handle-active")},t._settings.timeout),t.value=g})}return i},this.init=function(t){var i=this;if(this.settings=t,this._settings.range){var s=this._settings.value+"";if(s.indexOf(",")>-1){var n=s.split(","),d=a(n[0]);d=Math.min(this._settings.max,Math.max(this._settings.min,d)),d=e(d,this._settings.step);var r=a(n[1]);r=Math.min(this._settings.max,Math.max(this._settings.min,r)),r=e(r,this._settings.step)}else{var s=e(Math.max(this._settings.min,Math.min(this._settings.max,a(this._settings.value))),this._settings.step),l=(this._settings.max-this._settings.min)/2;if(l>s)var d=s,r=this._settings.max-s;else var r=s,d=this._settings.min+s}r>d?this._settings.value=d+","+r:this._settings.value=r+","+d}else this._settings.value=Math.max(this._settings.min,Math.min(this._settings.max,a(this._settings.value)));this.on("render",function(){i.value=i._settings.value}),this.trigger("init",{settings:this._settings})},this.init.apply(this,arguments)},$add.Slider=function(t,e){var i=$(t).each(function(t,i){var s=$(i),a={};s.attr("name")&&(a.name=s.attr("name")),s.attr("class")&&(a["class"]=s.attr("class")),s.attr("id")&&(a.id=s.attr("id")),s.attr("value")&&(a.value=s.attr("value")),s.attr("min")&&(a.min=s.attr("min")),s.attr("max")&&(a.max=s.attr("max")),s.attr("step")&&(a.step=s.attr("step")),e=$.extend(a,s.data(),e);var n=new $add.SliderObj(e);return n.render(s,"replace"),n});return 0==i.length?null:1==i.length?i[0]:i},$.fn.addSlider=function(t){$add.Slider(this,t)},$add.auto.Slider=function(){$add.auto.disabled||$("[data-addui=slider]").addSlider()},$(function(){$add.auto.Slider()});